#!/usr/bin/env bash

# --- SCRIPT SIGNATURE --- #
#
#                      ▄▄                   ▄▄▄▄▄
#    ██                ██                  █▀▀▀▀██▄
#  ███████    ▄█████▄  ██▄███▄   ▄▄█████▄        ██  ▄▄█████▄  ██▄███▄    ▄█████▄   ▄█████▄   ▄████▄   ▄▄█████▄
#    ██       ▀ ▄▄▄██  ██▀  ▀██  ██▄▄▄▄ ▀      ▄█▀   ██▄▄▄▄ ▀  ██▀  ▀██   ▀ ▄▄▄██  ██▀    ▀  ██▄▄▄▄██  ██▄▄▄▄ ▀
#    ██      ▄██▀▀▀██  ██    ██   ▀▀▀▀██▄    ▄█▀      ▀▀▀▀██▄  ██    ██  ▄██▀▀▀██  ██        ██▀▀▀▀▀▀   ▀▀▀▀██▄
#    ██▄▄▄   ██▄▄▄███  ███▄▄██▀  █▄▄▄▄▄██  ▄██▄▄▄▄▄  █▄▄▄▄▄██  ███▄▄██▀  ██▄▄▄███  ▀██▄▄▄▄█  ▀██▄▄▄▄█  █▄▄▄▄▄██
#     ▀▀▀▀    ▀▀▀▀ ▀▀  ▀▀ ▀▀▀     ▀▀▀▀▀▀   ▀▀▀▀▀▀▀▀   ▀▀▀▀▀▀   ██ ▀▀▀     ▀▀▀▀ ▀▀    ▀▀▀▀▀     ▀▀▀▀▀    ▀▀▀▀▀▀
#                                                              ██
#
# --- DESCRIPTION --- #
#
# --- DEPENDENCIES --- #
#
# --- END SIGNATURE --- #

set -eo pipefail

trap 'exit 1' SIGUSR1

source check-deps
checkDeps "$0"
# ---  Main script logic --- #
if [[ $# -eq 0 || $1 == "-" ]]; then
  str=$(cat)
elif [[ -f "$1" ]]; then
  sed 's|\t|  |g' -i "$1"
  exit 0
else
  str="$*"
fi

[[ -z ${str} ]] && {
  printf ""
  exit 0
}

echo "${str}" | sed 's|\t|  |g'
